var le=Object.defineProperty;var ie=(a,s,r)=>s in a?le(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r;var K=(a,s,r)=>ie(a,typeof s!="symbol"?s+"":s,r);import{r as o,a as ce,b as P}from"./vendor-Gm9i_4Ku.js";import{O as oe,L as u,u as de,a as J,R as me,b as I,B as xe}from"./router-C-DkBzJ2.js";import{B as S,S as F,U as he,a as ue,C as ge,D as pe,b as je,P as z,c as fe,L as ye,E as U,d as Ne,e as be,T as ve,f as q}from"./ui-CVyYVaoF.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();var Y={exports:{}},D={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we=o,Se=Symbol.for("react.element"),ke=Symbol.for("react.fragment"),Ce=Object.prototype.hasOwnProperty,Ie=we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pe={key:!0,ref:!0,__self:!0,__source:!0};function Q(a,s,r){var t,n={},l=null,d=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(d=s.ref);for(t in s)Ce.call(s,t)&&!Pe.hasOwnProperty(t)&&(n[t]=s[t]);if(a&&a.defaultProps)for(t in s=a.defaultProps,s)n[t]===void 0&&(n[t]=s[t]);return{$$typeof:Se,type:a,key:l,ref:d,props:n,_owner:Ie.current}}D.Fragment=ke;D.jsx=Q;D.jsxs=Q;Y.exports=D;var e=Y.exports,B={},H=ce;B.createRoot=H.createRoot,B.hydrateRoot=H.hydrateRoot;const V=o.createContext(void 0),_=()=>{const a=o.useContext(V);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},Ae=({children:a})=>{const[s,r]=o.useState(null),[t,n]=o.useState(!0);o.useEffect(()=>{const i=localStorage.getItem("mockUser");i&&r(JSON.parse(i)),n(!1)},[]);const p={user:s,loading:t,signIn:async(i,x)=>{const j={uid:"mock-user-id",email:i,displayName:i.split("@")[0],photoURL:null};r(j),localStorage.setItem("mockUser",JSON.stringify(j))},signUp:async(i,x,j)=>{const h={uid:"mock-user-id",email:i,displayName:j,photoURL:null};r(h),localStorage.setItem("mockUser",JSON.stringify(h))},signOut:async()=>{r(null),localStorage.removeItem("mockUser")},signInWithGoogle:async()=>{const i={uid:"mock-google-user-id",email:"user@gmail.com",displayName:"Google User",photoURL:"https://via.placeholder.com/40"};r(i),localStorage.setItem("mockUser",JSON.stringify(i))}};return e.jsx(V.Provider,{value:p,children:a})},Le=()=>e.jsx("div",{className:"min-h-screen",children:e.jsx(oe,{})});function X(a){var s,r,t="";if(typeof a=="string"||typeof a=="number")t+=a;else if(typeof a=="object")if(Array.isArray(a)){var n=a.length;for(s=0;s<n;s++)a[s]&&(r=X(a[s]))&&(t&&(t+=" "),t+=r)}else for(r in a)a[r]&&(t&&(t+=" "),t+=r);return t}function $(){for(var a,s,r=0,t="",n=arguments.length;r<n;r++)(a=arguments[r])&&(s=X(a))&&(t&&(t+=" "),t+=s);return t}const g=({variant:a="primary",size:s="md",children:r,className:t,...n})=>{const l="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",d={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-primary-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-primary-500"},m={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return e.jsx("button",{className:$(l,d[a],m[s],t),...n,children:r})},Ee=()=>e.jsxs("div",{className:"min-h-screen",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"h-8 w-8 text-primary-600"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Arcana Editor"})]}),e.jsxs("nav",{className:"hidden md:flex space-x-8",children:[e.jsx(u,{to:"/editor",className:"text-gray-600 hover:text-primary-600 transition-colors",children:"エディター"}),e.jsx(u,{to:"/dashboard",className:"text-gray-600 hover:text-primary-600 transition-colors",children:"ダッシュボード"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(u,{to:"/login",children:e.jsx(g,{variant:"outline",size:"sm",children:"ログイン"})}),e.jsx(u,{to:"/register",children:e.jsx(g,{size:"sm",children:"新規登録"})})]})]})})}),e.jsx("section",{className:"pt-20 pb-16 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["AIが支援する",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary-600 to-purple-600",children:"シナリオエディター"})]}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"クリエイティブな物語をAIの力でより豊かに。直感的なエディターで、あなたの想像力を現実に。"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(u,{to:"/editor",children:e.jsxs(g,{size:"lg",className:"w-full sm:w-auto",children:[e.jsx(F,{className:"mr-2 h-5 w-5"}),"エディターを始める"]})}),e.jsx("a",{href:"#features",children:e.jsx(g,{variant:"outline",size:"lg",className:"w-full sm:w-auto",children:"機能を見る"})})]})]})}),e.jsx("section",{id:"features",className:"py-16 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"主な機能"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"AIの力を借りて、より良いシナリオを作成しましょう"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-lg flex items-center justify-center mb-6",children:e.jsx(F,{className:"h-8 w-8 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"AI補完機能"}),e.jsx("p",{className:"text-gray-600",children:"物語の続きをAIが提案。創作の手が止まった時も、AIがあなたの創作活動をサポートします。"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-lg flex items-center justify-center mb-6",children:e.jsx(he,{className:"h-8 w-8 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"コラボレーション"}),e.jsx("p",{className:"text-gray-600",children:"チームでの共同編集が可能。リアルタイムで複数人でのシナリオ作成をサポートします。"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-lg flex items-center justify-center mb-6",children:e.jsx(ue,{className:"h-8 w-8 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"セキュアな保存"}),e.jsx("p",{className:"text-gray-600",children:"Firebaseの強力なセキュリティで、あなたの作品を安全に保存・管理します。"})]})]})]})}),e.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx(S,{className:"h-6 w-6"}),e.jsx("span",{className:"text-lg font-semibold",children:"Arcana Editor"})]}),e.jsx("p",{className:"text-gray-400",children:"© 2025 Arcana Editor. All rights reserved."})]})})]}),Oe=P.forwardRef(({label:a,error:s,helperText:r,className:t,id:n,...l},d)=>{const m=n||`textarea-${Math.random().toString(36).substr(2,9)}`;return e.jsxs("div",{className:"w-full",children:[a&&e.jsx("label",{htmlFor:m,className:"block text-sm font-medium text-gray-700 mb-2",children:a}),e.jsx("textarea",{ref:d,id:m,className:$("w-full px-3 py-2 border rounded-lg shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 resize-vertical",s?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-primary-500",t),...l}),s&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s}),r&&!s&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})}),b=({label:a,error:s,helperText:r,className:t,id:n,...l})=>{const d=n||`input-${Math.random().toString(36).substr(2,9)}`;return e.jsxs("div",{className:"w-full",children:[a&&e.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 mb-2",children:a}),e.jsx("input",{id:d,className:$("w-full px-3 py-2 border rounded-lg shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",s?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-primary-500",t),...l}),s&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s}),r&&!s&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})},Re=["主人公は立ち上がり、決意を込めて言った。","その時、不思議な光が現れて、状況を一変させた。","彼女の心に新しい希望が芽生え始めていた。","謎めいた影が近づいてくる。","突然、雷鳴が轟き、空が暗くなった。","古い城の扉がきしみながら開いた。","魔法の剣が光り始めた。","風が物語を運んでくる。","星が瞬いて、新しい冒険を予感させる。","時間が止まったような静寂が訪れた。"],Ue=[{id:"1",title:"冒険の始まり",content:`主人公のアレックスは小さな村で平凡な生活を送っていた。毎日同じような日々が続き、何か変化を求めていた。

ある朝、村の外れで不思議な光を発する石を発見した。その石に触れた瞬間、世界が一変した。

「これは...魔法の石？」アレックスは呟いた。

その時、石から声が聞こえてきた。「選ばれし者よ、君の冒険が今始まる...」`,createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20"),tags:["冒険","ファンタジー","魔法"],isPublic:!0,authorId:"mock-user-id"},{id:"2",title:"謎の遺跡",content:`考古学者のサラは古代の遺跡で不思議な発見をした。壁に刻まれた文字は、これまで見たことのない言語だった。

「この文字...古代エジプトとも、マヤ文明とも違う」サラは顕微鏡で文字を詳しく調べた。

突然、遺跡の奥から光が差し込んだ。それは自然光ではない。人工的な光だった。

「誰かいるのか？」サラは懐中電灯を手に取り、光の方向へ歩き始めた。`,createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-18"),tags:["ミステリー","古代","考古学"],isPublic:!1,authorId:"mock-user-id"},{id:"3",title:"宇宙の旅人",content:`宇宙船パイオニア号は未知の惑星に向かっていた。船長のケンは地球を離れてから3年が経過していた。

「地球からの最後の通信から6ヶ月が経った」ケンは航海日誌に記録した。

その時、船の警報システムが作動した。「未知の物体が接近中」という警告音が響いた。

ケンはスクリーンを見つめた。そこには、これまで見たことのない巨大な宇宙船が映し出されていた。`,createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-12"),tags:["SF","宇宙","冒険"],isPublic:!0,authorId:"mock-user-id"}];class De{constructor(){K(this,"scenarios",[...Ue]);this.loadFromLocalStorage()}getUserScenarios(s){return this.scenarios.filter(r=>r.authorId===s)}getScenario(s){return this.scenarios.find(r=>r.id===s)||null}createScenario(s){const r={...s,id:Date.now().toString(),createdAt:new Date,updatedAt:new Date};return this.scenarios.push(r),this.saveToLocalStorage(),r.id}updateScenario(s,r){const t=this.scenarios.findIndex(n=>n.id===s);t!==-1&&(this.scenarios[t]={...this.scenarios[t],...r,updatedAt:new Date},this.saveToLocalStorage())}deleteScenario(s){this.scenarios=this.scenarios.filter(r=>r.id!==s),this.saveToLocalStorage()}getPublicScenarios(){return this.scenarios.filter(s=>s.isPublic)}generateAISuggestions(){return[...Re].sort(()=>.5-Math.random()).slice(0,5)}loadFromLocalStorage(){const s=localStorage.getItem("mockScenarios");if(s)try{const r=JSON.parse(s);this.scenarios=r.map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)}))}catch(r){console.error("Error loading scenarios from localStorage:",r)}}saveToLocalStorage(){localStorage.setItem("mockScenarios",JSON.stringify(this.scenarios))}}const A=new De,_e=({initialContent:a="",onSave:s})=>{const{user:r}=_(),[t,n]=o.useState(a),[l,d]=o.useState(""),[m,f]=o.useState([]),[p,i]=o.useState(""),[x,j]=o.useState(!1),[h,v]=o.useState([]),[w,E]=o.useState(!1),[k,O]=o.useState(0),[y,T]=o.useState(null),C=o.useRef(null),Z=async()=>{E(!0);try{await new Promise(N=>setTimeout(N,1500));const c=A.generateAISuggestions();v(c)}catch(c){console.error("AI completion error:",c)}finally{E(!1)}},ee=c=>{n(c.target.value),O(c.target.selectionStart)},M=()=>{C.current&&O(C.current.selectionStart)},se=c=>{const N=t.substring(0,k),R=t.substring(k),L=N+c+R;n(L),v([]),setTimeout(()=>{if(C.current){const W=k+c.length;C.current.focus(),C.current.setSelectionRange(W,W)}},100)},G=()=>{p.trim()&&!m.includes(p.trim())&&(f([...m,p.trim()]),i(""))},te=c=>{f(m.filter(N=>N!==c))},re=()=>{if(!r){alert("ログインが必要です");return}try{if(y)A.updateScenario(y,{title:l,content:t,tags:m,isPublic:x});else{const c=A.createScenario({title:l||"無題のシナリオ",content:t,tags:m,isPublic:x,authorId:r.uid});T(c)}s&&s({title:l,content:t,tags:m,isPublic:x}),alert("シナリオが保存されました！")}catch(c){console.error("Save error:",c),alert("保存に失敗しました")}},ae=async()=>{try{await navigator.clipboard.writeText(t),alert("クリップボードにコピーしました")}catch(c){console.error("Copy failed:",c)}},ne=()=>{const c=JSON.stringify({title:l,content:t,tags:m,isPublic:x,timestamp:new Date().toISOString()},null,2),N=new Blob([c],{type:"application/json"}),R=URL.createObjectURL(N),L=document.createElement("a");L.href=R,L.download=`${l||"scenario"}.json`,L.click(),URL.revokeObjectURL(R)};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"シナリオエディター"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(g,{variant:"outline",onClick:ae,children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"コピー"]}),e.jsxs(g,{variant:"outline",onClick:ne,children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"エクスポート"]}),e.jsxs(g,{onClick:re,children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"保存"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(b,{label:"タイトル",value:l,onChange:c=>d(c.target.value),placeholder:"シナリオのタイトルを入力"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:c=>j(c.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"公開"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"タグ"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:m.map((c,N)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800",children:[c,e.jsx("button",{onClick:()=>te(c),className:"ml-2 text-primary-600 hover:text-primary-800",children:"×"})]},N))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(b,{value:p,onChange:c=>i(c.target.value),placeholder:"新しいタグを入力",onKeyPress:c=>c.key==="Enter"&&G()}),e.jsx(g,{variant:"outline",onClick:G,children:e.jsx(z,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(F,{className:"h-5 w-5 mr-2 text-purple-600"}),"AI補完"]}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>Z(),disabled:w,children:w?"生成中...":"続きを生成"})]}),h.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"以下の提案から選択してください："}),h.map((c,N)=>e.jsx("div",{className:"ai-suggestion cursor-pointer",onClick:()=>se(c),children:c},N))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"シナリオ内容"}),e.jsx(Oe,{ref:C,value:t,onChange:ee,onSelect:M,onFocus:M,placeholder:"シナリオの内容を入力してください...",className:"min-h-96 font-mono text-base leading-relaxed"}),e.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["文字数: ",t.length," | カーソル位置: ",k]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"統計情報"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"文字数:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"単語数:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.split(/\s+/).filter(c=>c.length>0).length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"行数:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.split(`
`).length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"段落数:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.split(`

`).filter(c=>c.trim().length>0).length})]})]})]})]})},Te=()=>{const[a]=de(),[s,r]=o.useState(""),t=a.get("id");o.useEffect(()=>{if(t){const l=A.getScenario(t);l&&r(l.content)}},[t]);const n=l=>{console.log("Saving scenario:",l)};return e.jsx("div",{className:"min-h-screen",children:e.jsx(_e,{initialContent:s,onSave:n})})},Fe=()=>{const{user:a,signOut:s}=_(),r=J(),[t,n]=P.useState([]),[l,d]=P.useState(!0);P.useEffect(()=>{a||r("/login")},[a,r]),P.useEffect(()=>{a&&m()},[a]);const m=async()=>{try{if(a){const i=A.getUserScenarios(a.uid);n(i)}}catch(i){console.error("Error loading scenarios:",i)}finally{d(!1)}},f=async()=>{try{await s(),r("/")}catch(i){console.error("Sign out error:",i)}},p=async i=>{if(confirm("このシナリオを削除しますか？"))try{A.deleteScenario(i),n(t.filter(x=>x.id!==i))}catch(x){console.error("Delete error:",x)}};return l?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"h-8 w-8 text-primary-600"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Arcana Editor"})]}),e.jsxs("nav",{className:"hidden md:flex space-x-8",children:[e.jsx(u,{to:"/dashboard",className:"text-primary-600 font-medium",children:"ダッシュボード"}),e.jsx(u,{to:"/editor",className:"text-gray-600 hover:text-primary-600 transition-colors",children:"エディター"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:a.displayName||a.email})]}),e.jsxs(g,{variant:"outline",size:"sm",onClick:f,children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"ログアウト"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["こんにちは、",a.displayName||"ユーザー","さん"]}),e.jsx("p",{className:"text-gray-600",children:"あなたのシナリオを管理し、新しい物語を作成しましょう。"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(u,{to:"/editor",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary-100 p-3 rounded-lg",children:e.jsx(z,{className:"h-6 w-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"新しいシナリオ"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"空のエディターから始める"})]})]})})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:e.jsx(S,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"総シナリオ数"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(U,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"公開シナリオ"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.filter(i=>i.isPublic).length})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"あなたのシナリオ"})}),t.length===0?e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx(S,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"まだシナリオがありません"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"最初のシナリオを作成して、物語を始めましょう。"}),e.jsx(u,{to:"/editor",children:e.jsxs(g,{children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"新しいシナリオを作成"]})})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(i=>e.jsx("div",{className:"px-6 py-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:i.title}),i.isPublic&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"公開"})]}),e.jsxs("p",{className:"text-gray-600 mt-1 line-clamp-2",children:[i.content.substring(0,150),"..."]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsxs("span",{children:["更新: ",i.updatedAt.toLocaleDateString("ja-JP")]})]}),e.jsx("div",{className:"flex space-x-1",children:i.tags.map((x,j)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-600",children:x},j))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{to:`/editor?id=${i.id}`,children:e.jsxs(g,{variant:"outline",size:"sm",children:[e.jsx(be,{className:"h-4 w-4 mr-1"}),"編集"]})}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>p(i.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ve,{className:"h-4 w-4"})})]})]})},i.id))})]})]})]}):null},ze=()=>{const[a,s]=o.useState(""),[r,t]=o.useState(""),[n,l]=o.useState(!1),[d,m]=o.useState(!1),[f,p]=o.useState(""),{signIn:i}=_(),x=J(),j=async h=>{h.preventDefault(),m(!0),p("");try{await i(a,r),x("/dashboard")}catch(v){p(v.message||"ログインに失敗しました")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(S,{className:"h-12 w-12 text-primary-600"})}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"アカウントにログイン"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["または"," ",e.jsx(u,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"新規アカウントを作成"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:j,children:[f&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:f}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{label:"メールアドレス",type:"email",value:a,onChange:h=>s(h.target.value),placeholder:"your@email.com",required:!0}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{label:"パスワード",type:n?"text":"password",value:r,onChange:h=>t(h.target.value),placeholder:"パスワードを入力",required:!0}),e.jsx("button",{type:"button",className:"absolute right-3 top-8 text-gray-400 hover:text-gray-600",onClick:()=>l(!n),children:n?e.jsx(q,{className:"h-5 w-5"}):e.jsx(U,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"ログイン状態を保持"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"パスワードを忘れましたか？"})})]}),e.jsx("div",{children:e.jsx(g,{type:"submit",className:"w-full",disabled:d,children:d?"ログイン中...":"ログイン"})}),e.jsx("div",{className:"text-center",children:e.jsx(u,{to:"/",className:"text-sm text-gray-600 hover:text-gray-500",children:"ホームに戻る"})})]})]})})},qe=()=>{const[a,s]=o.useState(""),[r,t]=o.useState(""),[n,l]=o.useState(""),[d,m]=o.useState(""),[f,p]=o.useState(!1),[i,x]=o.useState(!1),[j,h]=o.useState(!1),[v,w]=o.useState(""),{signUp:E}=_(),k=J(),O=async y=>{if(y.preventDefault(),h(!0),w(""),r!==n){w("パスワードが一致しません"),h(!1);return}if(r.length<6){w("パスワードは6文字以上で入力してください"),h(!1);return}try{await E(a,r,d),k("/dashboard")}catch(T){w(T.message||"アカウント作成に失敗しました")}finally{h(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(S,{className:"h-12 w-12 text-primary-600"})}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"新規アカウント作成"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["または"," ",e.jsx(u,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"既存のアカウントでログイン"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:O,children:[v&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:v}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{label:"表示名",type:"text",value:d,onChange:y=>m(y.target.value),placeholder:"あなたの名前",required:!0}),e.jsx(b,{label:"メールアドレス",type:"email",value:a,onChange:y=>s(y.target.value),placeholder:"your@email.com",required:!0}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{label:"パスワード",type:f?"text":"password",value:r,onChange:y=>t(y.target.value),placeholder:"パスワードを入力（6文字以上）",required:!0}),e.jsx("button",{type:"button",className:"absolute right-3 top-8 text-gray-400 hover:text-gray-600",onClick:()=>p(!f),children:f?e.jsx(q,{className:"h-5 w-5"}):e.jsx(U,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{label:"パスワード確認",type:i?"text":"password",value:n,onChange:y=>l(y.target.value),placeholder:"パスワードを再入力",required:!0}),e.jsx("button",{type:"button",className:"absolute right-3 top-8 text-gray-400 hover:text-gray-600",onClick:()=>x(!i),children:i?e.jsx(q,{className:"h-5 w-5"}):e.jsx(U,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:[e.jsx(u,{to:"#",className:"text-primary-600 hover:text-primary-500",children:"利用規約"}),"と",e.jsx(u,{to:"#",className:"text-primary-600 hover:text-primary-500",children:"プライバシーポリシー"}),"に同意します"]})]}),e.jsx("div",{children:e.jsx(g,{type:"submit",className:"w-full",disabled:j,children:j?"アカウント作成中...":"アカウントを作成"})}),e.jsx("div",{className:"text-center",children:e.jsx(u,{to:"/",className:"text-sm text-gray-600 hover:text-gray-500",children:"ホームに戻る"})})]})]})})};function Be(){return e.jsx(Ae,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsx(me,{children:e.jsxs(I,{path:"/",element:e.jsx(Le,{}),children:[e.jsx(I,{index:!0,element:e.jsx(Ee,{})}),e.jsx(I,{path:"login",element:e.jsx(ze,{})}),e.jsx(I,{path:"register",element:e.jsx(qe,{})}),e.jsx(I,{path:"editor",element:e.jsx(Te,{})}),e.jsx(I,{path:"dashboard",element:e.jsx(Fe,{})})]})})})})}B.createRoot(document.getElementById("root")).render(e.jsx(P.StrictMode,{children:e.jsx(xe,{children:e.jsx(Be,{})})}));
//# sourceMappingURL=index-CWYeHXXj.js.map
